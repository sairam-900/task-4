document.querySelectorAll("nav a").forEach(link => {
  link.addEventListener("click", e => {
    e.preventDefault();
    document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
    document.getElementById(link.dataset.section).classList.add("active");
  });
});

// To-Do List Logic
const taskInput = document.getElementById("taskInput");
const addTaskBtn = document.getElementById("addTaskBtn");
const taskList = document.getElementById("taskList");

function loadTasks() {
  const tasks = JSON.parse(localStorage.getItem("tasks")) || [];
  taskList.innerHTML = "";
  tasks.forEach((task, index) => {
    const li = document.createElement("li");
    li.textContent = task;
    li.addEventListener("click", () => {
      tasks.splice(index, 1);
      localStorage.setItem("tasks", JSON.stringify(tasks));
      loadTasks();
    });
    taskList.appendChild(li);
  });
}

addTaskBtn.addEventListener("click", () => {
  if (taskInput.value.trim() !== "") {
    const tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    tasks.push(taskInput.value.trim());
    localStorage.setItem("tasks", JSON.stringify(tasks));
    taskInput.value = "";
    loadTasks();
  }
});

loadTasks();

// Product Listing Logic
const products = [
  { name: "Laptop", category: "electronics", price: 500 },
  { name: "T-Shirt", category: "clothes", price: 20 },
  { name: "Headphones", category: "electronics", price: 50 },
  { name: "Jeans", category: "clothes", price: 40 }
];

function renderProducts(items) {
  const productGrid = document.getElementById("productGrid");
  productGrid.innerHTML = "";
  items.forEach(p => {
    const div = document.createElement("div");
    div.classList.add("product-card");
    div.innerHTML = `<h4>${p.name}</h4><p>Category: ${p.category}</p><p>Price: $${p.price}</p>`;
    productGrid.appendChild(div);
  });
}

document.getElementById("categoryFilter").addEventListener("change", e => {
  let filtered = products;
  if (e.target.value !== "all") {
    filtered = products.filter(p => p.category === e.target.value);
  }
  renderProducts(filtered);
});

document.getElementById("sortOption").addEventListener("change", e => {
  let sorted = [...products];
  if (e.target.value === "priceLow") {
    sorted.sort((a, b) => a.price - b.price);
  } else if (e.target.value === "priceHigh") {
    sorted.sort((a, b) => b.price - a.price);
  }
  renderProducts(sorted);
});

renderProducts(products);
